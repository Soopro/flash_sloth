<div class="anim-fade noleave"
     ng-show="!gen_mode"
     layout-margin>

  <md-card class="card"
           layout-padding>
    <img ng-src="{{card.meta.sticker}}"
         ng-show="card.meta.sticker" />
    <md-icon class="s120"
             md-svg-icon="ic_local_play_24px"
             ng-show="!card.meta.sticker">
    </md-icon>
    <md-card-content ng-show="card.slug">
      <form name="use_form"
            class="text-center"
            ng-submit="use(display_card)"
            novalidate>
        <div class="md-caption text-warn"
             ng-if="display_card.status == 0">
          {{_('Scrapped')}}
        </div>
        <div class="md-title md-padding"
             ng-if="display_card.status != 0">
          <span class="text-warn"
                ng-if="display_card._error">
            {{_('Error')}}
          </span>
        </div>

        <div class="md-caption text-primary"
             ng-if="display_card.member_login">
          {{display_card.member_login}}
        </div>
        <div class="md-display-1 text-break">
            {{display_card.code}}
        </div>
        <div class="md-display-1 text-accent"
             ng-if="display_card.style == 'storeCard'">
          {{display_card.balance | abbrnum}}
        </div>

        <div class="md-padding"
             ng-show="display_card.status == 1">
          <div ng-show="display_card.style == 'storeCard'">
            <md-input-container>
              <label>{{_('Credit')}}</label>
              <input name="credit"
                     type="number"
                     ng-model="credit"/>
            </md-input-container>
            <div>
              <md-button class="md-primary"
                         type="submit">
                {{credit>0?_('Charge'):_('Spend')}}
              </md-button>
            </div>
          </div>

          <div ng-show="display_card.style != 'storeCard'"
               layout-margin>
            <md-button class="md-primary"
                       type="submit">
              {{_('Use it')}}
            </md-button>
          </div>
        </div>

        <div class="md-padding">
          <p class="md-caption tip">
            {{display_card.updated | dateformat}}
          </p>
        </div>
      </form>

      <div class="text-right"
           ng-show="display_card.style == 'storeCard'">
        <md-button class="md-icon-button"
                   aria-label="{{_('Destroy')}}"
                   ng-click="destroy(display_card)">
          <md-icon md-svg-icon="ic_delete_24px"></md-icon>
        </md-button>
      </div>

    </md-card-content>
  </md-card>
</div>